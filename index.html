<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GA Test</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-141509620-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-141509620-1');
    </script>

    <style>
        body {
            color: white;
            background: black;
            text-align: center;
        }
        .box {
            margin: 50px auto;
            max-width: 500px;
        }
        a {
            color: #eee;
        }
    </style>
</head>
<body>
    <div class="box">
        <h1>Haha!</h1>
        <p>
            <a id="buyButton" href="www.baidu.com" target="_blank">Buy Now</a>
        </p>
        <p>
            <a id="cartButton" href="www.google.com" target="_blank">Add to Cart</a>
        </p>
    </div>

    <div class="box">
        <video style="max-width: 100%; height: auto;"
                controls
               preload="preload"
               src="1.mp4"
               onclick="ga('send', 'event', 'Videos', 'play', 'Fall Campaign');"
        >
            Your browser does not support the <code>video</code> element.
        </video>
    </div>

    <script>
        var buyButton = document.querySelector('#buyButton');
        var cartButton = document.querySelector('#cartButton');

        if(buyButton) {
            try {
                buyButton.onclick = function handleOutboundLinkClicks (event) {
                    console.log('Buy Now');
                    gtag('send', 'event', {
                        eventCategory: 'buyButton',
                        eventAction: 'click',
                        eventLabel: event.target.href
                    });
                    console.log(event.target.href);
                }
            } catch (err) {
                window.console && console.log(err);
            }
        }

        if(cartButton) {
            try {
                cartButton.onclick = function handleOutboundLinkClicks (event) {
                    console.log('Add cart');
                    gtag('send', 'event', {
                        eventCategory: 'cartButton',
                        eventAction: 'click',
                        eventLabel: event.target.href,
                        hitType: 'pageview',
                        page: location.pathname
                    });
                    console.log(location.pathname);
                }
            } catch (err) {
                window.console && console.log(err);
            }
        }


    </script>
</body>
</html>
